{
  "@type" : "format/generic",
  "assetClass" : "format",
  "assetType" : "generic",
  "uuid" : "7f057b37-8dd0-441a-a297-26ac1f314861",
  "checksum" : "ee206c8213e4edd678b54cfdad1a84bd86142b4a05a0c5355224ce79c3541120",
  "name" : "GenericEvents",
  "definition" : [
    "format {",
    "  name = \"EVENT\" ",
    "  description = \"EVENT Records\"",
    "",
    "  start-element = \"File\"",
    "  target-namespace = \"EVENTS\"",
    "",
    "  elements = [",
    "    // #####################################################################",
    "    // ### File sequence",
    "    // #####################################################################",
    "    {    ",
    "      name = \"File\"",
    "      type = \"Sequence\"",
    "      references = [",
    "        {",
    "          name = \"Header\"",
    "          min-occurs = 1",
    "          max-occurs = 1",
    "          referenced-element = \"Header\"",
    "        },",
    "        {",
    "          name = \"Details\"",
    "          max-occurs = \"unlimited\"",
    "          referenced-element = \"Detail\"",
    "        },",
    "        {",
    "          name = \"Trailer\"",
    "          min-occurs = 1",
    "          max-occurs = 1",
    "          referenced-element = \"Trailer\"",
    "        },",
    "      ]",
    "    },",
    "",
    "    // #####################################################################",
    "    // ### Header record ",
    "    // #####################################################################",
    "    {",
    "      name = \"Header\"",
    "      type = \"Separated\"",
    "      regular-expression = \"H\"",
    "      separator-regular-expression = \";\"",
    "      separator = \";\"",
    "      terminator-regular-expression = \"\\n\"",
    "      terminator = \"\\n\"",
    "",
    "      mapping = {",
    "        message = \"Header\"",
    "        element = \"EVENT\"",
    "      }",
    "",
    "      parts = [",
    "        {",
    "          name = \"RECORD_TYPE\"",
    "          type = \"RegExpr\"",
    "          regular-expression = \"[^;\\n]*\"",
    "          value.type = \"Text.String\"",
    "        },",
    "        {",
    "          name = \"FILENAME\"",
    "          type = \"RegExpr\"",
    "          regular-expression = \"[^;\\n]*\"",
    "          value.type = \"Text.String\"",
    "        },",
    "        {",
    "          name = \"DATETIME\"",
    "          type = \"RegExpr\"",
    "          regular-expression = \"[^;\\n]*\"",
    "          value = {",
    "            type = \"Text.DateTime\"",
    "            format = \"uuuuMMddHHmmss\"",
    "          }",
    "        }",
    "      ]",
    "    },",
    "    // #####################################################################",
    "    // ### Detail record",
    "    // #####################################################################",
    "    {",
    "      name = \"Detail\"",
    "      type = \"Separated\"",
    "      regular-expression = \"D\"",
    "      separator-regular-expression = \",\"",
    "      separator = \",\"",
    "      terminator-regular-expression = \"\\r?\\n\"",
    "      terminator = \"\\n\"",
    "",
    "      mapping = {",
    "        message = \"Detail\"",
    "        element = \"EVENT\"",
    "      }",
    "",
    "      parts = [",
    "        {",
    "          name = \"RECORD_TYPE\"",
    "          type = \"RegExpr\"",
    "          regular-expression = \"[^;\\n]*\"",
    "          value.type = \"Text.String\"",
    "        },",
    "        {",
    "          name = \"EVENT_JSON\"",
    "          type = \"RegExpr\"",
    "          regular-expression = \"[^,\\r\\n]*\"",
    "          null-regular-expression = \"[\\t ]*\"",
    "          value = {",
    "            type = \"Text.String\"",
    "            // quote-char = \"\\\"\"",
    "          }",
    "        }",
    "      ]",
    "    },",
    "    // #####################################################################",
    "    // # Trailer record                                                 ",
    "    // #####################################################################",
    "    {",
    "      name = \"Trailer\"",
    "      type = \"Separated\"",
    "      regular-expression = \"T\"",
    "      separator-regular-expression = \";\"",
    "      separator = \";\"",
    "      terminator-regular-expression = \"\\r?\\n\"",
    "      terminator = \"\\n\"",
    "",
    "      mapping = {",
    "        message = \"Trailer\"",
    "        element = \"EVENT\"",
    "      }",
    "",
    "      parts = [",
    "        {",
    "          name = \"RECORD_TYPE\"",
    "          type = \"RegExpr\"",
    "          regular-expression = \"[^;\\n]*\"",
    "          value.type = \"Text.String\"",
    "        },",
    "        {",
    "          name = \"RECORD_COUNT\"",
    "          type = \"RegExpr\"",
    "          regular-expression = \"[^;\\n]*\"",
    "          value.type = \"Text.Integer\"",
    "        }",
    "      ]",
    "    }",
    "  ]",
    "}"
  ]
}